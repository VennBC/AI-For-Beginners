# 多智能体系统

实现智能的可能方法之一是所谓的**涌现**（或**协同**）方法，它基于这样一个事实：许多相对简单的智能体的组合行为可以导致系统整体的更复杂（或智能）行为。理论上，这基于[集体智能](https://en.wikipedia.org/wiki/Collective_intelligence)、[涌现主义](https://en.wikipedia.org/wiki/Global_brain) 和[进化控制论](https://en.wikipedia.org/wiki/Global_brain) 的原理，这些原理指出，当从低级系统正确组合时，更高级别的系统获得某种附加值（所谓的*元系统转换原理*）。

## [课前测验](https://ff-quizzes.netlify.app/en/ai/quiz/45)

**多智能体系统**的方向在 1990 年代在 AI 中出现，作为对互联网和分布式系统增长的回应。经典 AI 教科书之一，[人工智能：现代方法](https://en.wikipedia.org/wiki/Artificial_Intelligence:_A_Modern_Approach)，从多智能体系统的角度关注经典 AI 的观点。

多智能体方法的核心是**智能体**的概念 - 一个存在于某个**环境**中的实体，它可以感知并对其采取行动。这是一个非常广泛的定义，可能有许多不同类型的智能体和分类：

* 按它们的推理能力：
   - **反应式**智能体通常具有简单的请求-响应类型的行为
   - **深思熟虑的**智能体采用某种逻辑推理和/或规划能力
* 按智能体执行其代码的位置：
   - **静态**智能体在专用网络节点上工作
   - **移动**智能体可以在网络节点之间移动其代码
* 按它们的行为：
   - **被动智能体**没有特定目标。这样的智能体可以对外部刺激做出反应，但不会自己发起任何行动。
   - **主动智能体**有一些它们追求的目标
   - **认知智能体**涉及复杂的规划和推理

多智能体系统现在用于许多应用：

* 在游戏中，许多非玩家角色采用某种 AI，可以被认为是智能智能体
* 在视频制作中，渲染涉及人群的复杂 3D 场景通常使用多智能体模拟完成
* 在系统建模中，多智能体方法用于模拟复杂模型的行为。例如，多智能体方法已成功用于预测 COVID-19 疾病在全球的传播。类似的方法可用于模拟城市中的交通，并查看它如何对交通规则的变化做出反应。
* 在复杂的自动化系统中，每个设备都可以充当独立的智能体，这使得整个系统不那么单一，更加健壮。

我们不会花很多时间深入研究多智能体系统，但考虑一个**多智能体建模**的例子。

## NetLogo

[NetLogo](https://ccl.northwestern.edu/netlogo/) 是基于 [Logo](https://en.wikipedia.org/wiki/Logo_(programming_language)) 编程语言的修改版本的多智能体建模环境。这种语言是为向孩子们教授编程概念而开发的，它允许您控制一个名为**turtle**的智能体，它可以移动，在后面留下痕迹。这允许创建复杂的几何图形，这是理解智能体行为的非常直观的方式。

在 NetLogo 中，我们可以使用 `create-turtles` 命令创建许多 turtle。然后我们可以命令所有 turtle 做一些动作（在下面的示例中 - 向前移动 10 点）：

```
create-turtles 10
ask turtles [
  forward 10
]
```

当然，当所有 turtle 做同样的事情时，这并不有趣，所以我们可以`ask` turtle 组，例如那些在某个点附近的 turtle。我们还可以使用 `breed [cats cat]` 命令创建不同*品种*的 turtle。这里 `cat` 是品种的名称，我们需要指定单数和复数单词，因为不同的命令使用不同的形式以保持清晰。

> ✅ 我们不会深入学习 NetLogo 语言本身 - 如果您有兴趣了解更多，可以访问精彩的 [初学者交互式 NetLogo 词典](https://ccl.northwestern.edu/netlogo/bind/) 资源。

您可以[下载](https://ccl.northwestern.edu/netlogo/download.shtml) 并安装 NetLogo 来尝试它。

### 模型库

NetLogo 的一个很棒的事情是它包含一个工作模型库，您可以尝试。转到 **文件 &rightarrow; 模型库**，您有许多类别的模型可供选择。

<img alt="NetLogo 模型库" src="images/NetLogo-ModelLib.png" width="60%"/>

> Dmitry Soshnikov 的模型库截图

您可以打开其中一个模型，例如 **Biology &rightarrow; Flocking**。

### 主要原理

打开模型后，您将进入主 NetLogo 屏幕。这是一个示例模型，描述了狼和羊的群体，给定有限的资源（草）。

![NetLogo 主屏幕](images/NetLogo-Main.png)

> Dmitry Soshnikov 的截图

在此屏幕上，您可以看到：

* **界面**部分，其中包含：
  - 主字段，所有智能体都生活在那里
  - 不同的控件：按钮、滑块等。
  - 可用于显示模拟参数的图表
* **代码**选项卡，其中包含编辑器，您可以在其中输入 NetLogo 程序

在大多数情况下，界面将有一个 **Setup** 按钮，它初始化模拟状态，以及一个 **Go** 按钮，它开始执行。这些由代码中相应的处理程序处理，如下所示：

```
to go [
...
]
```

NetLogo 的世界由以下对象组成：

* **智能体**（turtle），可以在字段上移动并做一些事情。您通过使用 `ask turtles [...]` 语法命令智能体，括号中的代码由*turtle 模式*中的所有智能体执行。
* **补丁**是字段的方形区域，智能体生活在其上。您可以引用同一补丁上的所有智能体，或者您可以更改补丁颜色和其他一些属性。您也可以 `ask patches` 做一些事情。
* **观察者**是控制世界的独特智能体。所有按钮处理程序都在*观察者模式*中执行。

> ✅ 多智能体环境的美妙之处在于，在 turtle 模式或补丁模式中运行的代码由所有智能体同时并行执行。因此，通过编写少量代码并编程单个智能体的行为，您可以创建模拟系统整体的复杂行为。

### 集群

作为多智能体行为的示例，让我们考虑**[集群](https://en.wikipedia.org/wiki/Flocking_(behavior))**。集群是一个非常复杂的模式，与鸟群如何飞行非常相似。看着它们飞行，您可能会认为它们遵循某种集体算法，或者它们拥有某种形式的*集体智能*。然而，当每个单独的智能体（在这种情况下，一只*鸟*）只观察距离它很短距离的其他智能体，并遵循三个简单规则时，就会出现这种复杂的行为：

* **对齐** - 它转向相邻智能体的平均航向
* **内聚** - 它试图转向邻居的平均位置（*长程吸引力*）
* **分离** - 当与其他鸟太接近时，它试图移开（*短程排斥*）

您可以运行集群示例并观察行为。您还可以调整参数，例如*分离度*，或*视野范围*，它定义了每只鸟可以看到多远。请注意，如果您将视野范围减小到 0，所有鸟都变盲，集群停止。如果您将分离减小到 0，所有鸟聚集到一条直线上。

