<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <title>AI for Beginners</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="description" content="AI for Beginners - å¾®è½¯AIå…¥é—¨è¯¾ç¨‹">
  <meta name="viewport"
    content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <link rel="icon" type="image/png" href="images/favicon.png">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsify-themeable@0/dist/css/theme-simple.css">
  <style>
    /* å…¨å±€ç§‘æŠ€+æ•™è‚²é£æ ¼æ ·å¼ */
    :root {
      --sidebar-width: 350px;
      --primary-color: #2563eb;
      --secondary-color: #7c3aed;
      --accent-color: #06b6d4;
      --text-primary: #1e293b;
      --text-secondary: #64748b;
      --bg-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
    }
    
    /* æ¶‚é¸¦é£æ ¼çš„åŠ¨æ€èƒŒæ™¯ */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      z-index: 0;
      pointer-events: none;
      opacity: 0.03;
      background-image: 
        /* æ¶‚é¸¦é£æ ¼çš„çº¿æ¡å’Œç‚¹ */
        radial-gradient(circle at 10% 20%, #2563eb 1px, transparent 1px),
        radial-gradient(circle at 30% 40%, #7c3aed 1.5px, transparent 1.5px),
        radial-gradient(circle at 50% 60%, #06b6d4 1px, transparent 1px),
        radial-gradient(circle at 70% 30%, #2563eb 1.5px, transparent 1.5px),
        radial-gradient(circle at 90% 70%, #7c3aed 1px, transparent 1px),
        /* æ¶‚é¸¦é£æ ¼çš„æ³¢æµªçº¿ */
        repeating-linear-gradient(
          45deg,
          transparent,
          transparent 10px,
          rgba(37, 99, 235, 0.1) 10px,
          rgba(37, 99, 235, 0.1) 12px
        ),
        repeating-linear-gradient(
          -45deg,
          transparent,
          transparent 15px,
          rgba(124, 58, 237, 0.08) 15px,
          rgba(124, 58, 237, 0.08) 17px
        );
      background-size: 
        200px 200px,
        250px 250px,
        180px 180px,
        220px 220px,
        190px 190px,
        300px 300px,
        350px 350px;
      background-position: 
        0 0,
        100px 100px,
        200px 200px,
        300px 50px,
        500px 300px,
        0 0,
        150px 150px;
      animation: doodleBackground 20s ease-in-out infinite;
    }
    
    @keyframes doodleBackground {
      0%, 100% {
        background-position: 
          0 0,
          100px 100px,
          200px 200px,
          300px 50px,
          500px 300px,
          0 0,
          150px 150px;
      }
      50% {
        background-position: 
          50px 30px,
          150px 130px,
          250px 230px,
          350px 80px,
          550px 330px,
          30px 20px,
          180px 180px;
      }
    }
    
    body::after {
      content: '';
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      height: 200px;
      z-index: 0;
      pointer-events: none;
      opacity: 0.02;
      background: 
        repeating-linear-gradient(
          90deg,
          transparent,
          transparent 20px,
          rgba(6, 182, 212, 0.1) 20px,
          rgba(6, 182, 212, 0.1) 22px
        );
      animation: doodleWave 15s linear infinite;
    }
    
    @keyframes doodleWave {
      from { background-position-x: 0; }
      to { background-position-x: 100px; }
    }
    
    /* é¡µé¢é¡¶éƒ¨è£…é¥°çº¿ */
    #app::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, var(--primary-color), var(--secondary-color), var(--accent-color));
      z-index: 1000;
      box-shadow: 0 2px 8px rgba(37, 99, 235, 0.3);
    }
    
    /* é¡µé¢åº•éƒ¨è£…é¥°çº¿ */
    #app::after {
      content: '';
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, var(--accent-color), var(--secondary-color), var(--primary-color));
      z-index: 1000;
    }
    
    /* å¯æ‹–åŠ¨è°ƒæ•´çš„å·¦ä¾§ç›®å½•æ  */
    
    .sidebar {
      width: var(--sidebar-width) !important;
      min-width: 300px !important;
      max-width: 600px !important;
      position: relative;
      transition: width 0.2s ease;
    }
    
    /* æ‹–åŠ¨æ¡ */
    .sidebar-resizer {
      position: absolute;
      top: 0;
      right: -2px;
      width: 6px;
      height: 100%;
      background: transparent;
      cursor: col-resize;
      z-index: 1001;
      transition: background 0.2s;
      border-right: 2px solid transparent;
    }
    
    .sidebar-resizer:hover {
      background: rgba(0, 0, 0, 0.1);
      border-right: 2px solid rgba(0, 0, 0, 0.2);
    }
    
    .sidebar-resizer.dragging {
      background: rgba(0, 0, 0, 0.15);
      border-right: 2px solid rgba(0, 0, 0, 0.3);
    }
    
    /* æ ‡é¢˜æ ·å¼ - ç§‘æŠ€+æ•™è‚²é£æ ¼ */
    .sidebar .app-name {
      padding: 18px 16px;
      font-size: 1.5em;
      font-weight: 700;
      background: linear-gradient(135deg, var(--primary-color) 0%, var(--secondary-color) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      text-align: left;
      letter-spacing: 0.5px;
      position: relative;
      margin-bottom: 4px;
    }
    
    .sidebar .app-name::after {
      content: '';
      position: absolute;
      bottom: 8px;
      left: 16px;
      right: 16px;
      height: 2px;
      background: linear-gradient(90deg, var(--primary-color), transparent);
      border-radius: 2px;
    }
    .sidebar .sidebar-nav {
      padding: 12px 16px 14px 16px;
    }
    /* å–æ¶ˆæ‰€æœ‰ç¼©è¿›ï¼Œæ‰€æœ‰ç›®å½•ä»æœ€å·¦ä¾§å¼€å§‹ï¼Œå®Œå…¨å·¦å¯¹é½ */
    .sidebar ul {
      padding-left: 0 !important;
      margin-left: 0 !important;
      list-style: none;
      text-align: left;
      display: block !important;  /* ç¡®ä¿é»˜è®¤å±•å¼€ */
    }
    .sidebar li {
      margin: 4px 0;
      padding-left: 0 !important;
      margin-left: 0 !important;
      text-align: left;
    }
    /* ç¡®ä¿æ‰€æœ‰é“¾æ¥å®Œå…¨å·¦å¯¹é½ */
    .sidebar a {
      padding-left: 10px !important;
      margin-left: 0 !important;
    }
    /* å­ç›®å½•é“¾æ¥ä¹Ÿè¦å®Œå…¨å·¦å¯¹é½ */
    .sidebar .sidebar-nav ul > li > ul > li > a {
      padding-left: 10px !important;
    }
    .sidebar .sidebar-nav ul > li > ul > li > ul > li > a {
      padding-left: 10px !important;
    }
    /* ä¾§è¾¹æ é»˜è®¤å±•å¼€ï¼Œä½†æ”¯æŒç‚¹å‡»æŠ˜å  */
    .sidebar .sidebar-nav ul > li > ul {
      display: block !important;
      max-height: none !important;
      overflow: visible !important;
      transition: max-height 0.3s ease, opacity 0.3s ease;
    }
    /* æŠ˜å çŠ¶æ€ */
    .sidebar .sidebar-nav ul > li > ul.collapsed {
      display: none !important;
      max-height: 0 !important;
      opacity: 0;
      overflow: hidden;
    }
    
    /* é¦–é¡µç›®å½•é»˜è®¤å±•å¼€ï¼ˆé€šè¿‡ JavaScript æ§åˆ¶é¦–æ¬¡è®¿é—®æ—¶çš„æŠ˜å ï¼‰ */
    
    /* æ˜¾ç¤ºä¾§è¾¹æ æŠ˜å /å±•å¼€æŒ‰é’® */
    .sidebar .app-name-toggle,
    .sidebar-toggle {
      display: block !important;
    }
    .sidebar a {
      padding: 8px 10px;
      display: block;
      word-wrap: break-word;
      text-decoration: none;
      border-left: 3px solid transparent;
      transition: all 0.2s;
      text-align: left;
    }
    /* ä¸€çº§ç›®å½•ï¼ˆæœ€å¤§ç›®å½•ï¼‰- ä¸­æ–‡æ•°å­—ï¼Œç§‘æŠ€é£æ ¼ï¼Œæ”¯æŒç‚¹å‡»æŠ˜å  */
    .sidebar .sidebar-nav ul > li > a {
      font-weight: 700;
      font-size: 1.1em;
      color: var(--text-primary);
      border-left-color: var(--primary-color);
      background: linear-gradient(90deg, rgba(37, 99, 235, 0.05) 0%, transparent 100%);
      margin-bottom: 8px;
      border-left-width: 4px;
      border-radius: 0 8px 8px 0;
      position: relative;
      cursor: pointer;
      user-select: none;
      padding-left: 10px !important;
    }
    
    /* ä¸€çº§ç›®å½•æ ‡é¢˜çš„æŠ˜å æŒ‡ç¤ºå™¨ */
    .sidebar .sidebar-nav ul > li > a::after {
      content: 'â–¼';
      position: absolute;
      right: 12px;
      font-size: 0.7em;
      color: var(--text-secondary);
      transition: transform 0.3s ease;
    }
    
    /* æŠ˜å çŠ¶æ€ä¸‹çš„æŒ‡ç¤ºå™¨ */
    .sidebar .sidebar-nav ul > li > a.collapsed::after {
      transform: rotate(-90deg);
    }
    
    /* æ²¡æœ‰å­ç›®å½•çš„é“¾æ¥ä¸æ˜¾ç¤ºæŠ˜å æŒ‡ç¤ºå™¨ï¼ˆé€šè¿‡ JavaScript åŠ¨æ€æ§åˆ¶ï¼‰ */
    .sidebar .sidebar-nav ul > li > a.no-children::after {
      display: none;
    }
    .sidebar .sidebar-nav ul > li > a::before {
      content: '';
      position: absolute;
      left: 0;
      top: 0;
      bottom: 0;
      width: 4px;
      background: linear-gradient(180deg, var(--primary-color), var(--secondary-color));
      border-radius: 2px 0 0 2px;
    }
    .sidebar .sidebar-nav ul > li > a:hover {
      background: linear-gradient(90deg, rgba(37, 99, 235, 0.1) 0%, transparent 100%);
      color: var(--primary-color);
      transform: translateX(2px);
    }
    /* äºŒçº§ç›®å½• - é˜¿æ‹‰ä¼¯æ•°å­—ï¼Œæ•™è‚²é£æ ¼ï¼Œå®Œå…¨å·¦å¯¹é½ */
    .sidebar .sidebar-nav ul > li > ul > li > a {
      font-weight: 600;
      font-size: 1em;
      color: var(--text-secondary);
      border-left-color: var(--accent-color);
      padding-left: 10px !important;
      border-left-width: 3px;
    }
    .sidebar .sidebar-nav ul > li > ul > li > a:hover {
      background: rgba(6, 182, 212, 0.05);
      color: var(--primary-color);
      transform: translateX(2px);
    }
    /* ä¸‰çº§ç›®å½• - é˜¿æ‹‰ä¼¯æ•°å­—ï¼Œæµ…è‰²ï¼Œå®Œå…¨å·¦å¯¹é½ */
    .sidebar .sidebar-nav ul > li > ul > li > ul > li > a {
      font-weight: 500;
      font-size: 0.95em;
      color: #64748b;
      border-left-color: #cbd5e1;
      padding-left: 10px !important;
      border-left-width: 2px;
    }
    .sidebar .sidebar-nav ul > li > ul > li > ul > li > a:hover {
      background: rgba(203, 213, 225, 0.1);
      color: var(--text-secondary);
      transform: translateX(2px);
    }
    /* å››çº§åŠæ›´æ·±ç›®å½•ï¼Œå®Œå…¨å·¦å¯¹é½ */
    .sidebar .sidebar-nav ul > li > ul > li > ul > li > ul > li > a {
      font-weight: normal;
      font-size: 0.9em;
      color: #94a3b8;
      border-left-color: #e2e8f0;
      padding-left: 10px !important;
      border-left-width: 2px;
    }
    /* å½“å‰æ¿€æ´»çš„é“¾æ¥ - ç§‘æŠ€é£æ ¼é«˜äº® */
    .sidebar a.active {
      background: linear-gradient(90deg, rgba(37, 99, 235, 0.15) 0%, rgba(124, 58, 237, 0.1) 100%) !important;
      color: var(--primary-color) !important;
      border-left-color: var(--primary-color) !important;
      font-weight: 700 !important;
      box-shadow: 0 2px 8px rgba(37, 99, 235, 0.2);
    }
    
    /* è°ƒæ•´ä¸»å†…å®¹åŒºåŸŸï¼Œä¸ºæ›´å®½çš„ä¾§è¾¹æ ç•™å‡ºç©ºé—´ */
    .content {
      margin-left: var(--sidebar-width) !important;
      transition: margin-left 0.3s ease, max-width 0.3s ease;
      background: #f9fbff !important;
      position: relative;
      z-index: 1;
      min-height: 100vh;
    }
    
    /* ä¾§è¾¹æ éšè—æ—¶ï¼Œå†…å®¹å±…ä¸­æ˜¾ç¤º */
    body.sidebar-hidden .content {
      margin-left: 0 !important;
      max-width: 1200px !important;
      margin-right: auto !important;
      margin-left: auto !important;
    }
    
    /* é¦–é¡µæ—¶å†…å®¹åŒºåŸŸèƒŒæ™¯é€æ˜ï¼Œè®©èƒŒæ™¯æ˜¾ç¤º */
    .content:has(.homepage-doodle-bg) {
      background: transparent !important;
    }
    
    /* å†…å®¹åŒºåŸŸèƒŒæ™¯ï¼ˆéé¦–é¡µä¿æŒç™½è‰²ï¼‰ */
    .markdown-section {
      background: #ffffff !important;
      padding: 40px 60px;
      max-width: 900px;
      margin: 0 auto;
      position: relative;
    }
    
    /* é¦–é¡µåŠ¨æ€æ¶‚é¸¦é£æ ¼èƒŒæ™¯ - è¦†ç›–æ•´ä¸ªå†…å®¹åŒºåŸŸ */
    .markdown-section.homepage-doodle-bg {
      background: 
        /* æ¶‚é¸¦é£æ ¼çš„ç‚¹çŠ¶å›¾æ¡ˆ */
        radial-gradient(circle at 15% 25%, rgba(37, 99, 235, 0.08) 2px, transparent 2px),
        radial-gradient(circle at 35% 45%, rgba(124, 58, 237, 0.06) 1.5px, transparent 1.5px),
        radial-gradient(circle at 55% 65%, rgba(6, 182, 212, 0.07) 2px, transparent 2px),
        radial-gradient(circle at 75% 35%, rgba(37, 99, 235, 0.05) 1px, transparent 1px),
        radial-gradient(circle at 85% 75%, rgba(124, 58, 237, 0.06) 1.5px, transparent 1.5px),
        /* æ¶‚é¸¦é£æ ¼çš„çº¿æ¡ */
        repeating-linear-gradient(
          45deg,
          transparent,
          transparent 8px,
          rgba(37, 99, 235, 0.03) 8px,
          rgba(37, 99, 235, 0.03) 10px
        ),
        repeating-linear-gradient(
          -30deg,
          transparent,
          transparent 12px,
          rgba(124, 58, 237, 0.02) 12px,
          rgba(124, 58, 237, 0.02) 14px
        ),
        /* åŸºç¡€æµ…è‰²èƒŒæ™¯ */
        linear-gradient(135deg, #fefefe 0%, #f8fafc 50%, #f1f5f9 100%) !important;
      background-size: 
        180px 180px,
        220px 220px,
        200px 200px,
        160px 160px,
        240px 240px,
        250px 250px,
        300px 300px,
        100% 100%;
      background-position: 
        0 0,
        50px 50px,
        100px 100px,
        150px 30px,
        200px 150px,
        0 0,
        80px 80px,
        0 0;
      animation: doodleHomeBackground 25s ease-in-out infinite;
      background-attachment: fixed;
      min-height: 100vh;
      padding-bottom: 100px;
    }
    
    /* ç¡®ä¿é¦–é¡µèƒŒæ™¯è¦†ç›–æ•´ä¸ªé¡µé¢ */
    .content:has(.homepage-doodle-bg) {
      background: transparent !important;
    }
    
    @keyframes doodleHomeBackground {
      0%, 100% {
        background-position: 
          0 0,
          50px 50px,
          100px 100px,
          150px 30px,
          200px 150px,
          0 0,
          80px 80px,
          0 0;
      }
      33% {
        background-position: 
          30px 20px,
          80px 70px,
          130px 120px,
          180px 50px,
          230px 170px,
          20px 15px,
          110px 100px,
          0 0;
      }
      66% {
        background-position: 
          20px 40px,
          70px 90px,
          120px 140px,
          170px 70px,
          220px 190px,
          15px 25px,
          100px 120px,
          0 0;
      }
    }
    
    /* ç¡®ä¿æ–‡å­—å†…å®¹åœ¨ç™½è‰²èƒŒæ™¯ä¸Šï¼Œå·¦å¯¹é½ */
    .markdown-section p,
    .markdown-section h1,
    .markdown-section h2,
    .markdown-section h3,
    .markdown-section h4,
    .markdown-section h5,
    .markdown-section h6,
    .markdown-section ul,
    .markdown-section ol,
    .markdown-section li,
    .markdown-section blockquote,
    .markdown-section code,
    .markdown-section pre,
    .markdown-section table {
      background: transparent !important;
      color: var(--text-primary);
      text-align: left;
    }
    
    /* æ ‡é¢˜æ ·å¼å¢å¼º - å»æ‰ä¸‹åˆ’çº¿ */
    .markdown-section h1 {
      border-bottom: 3px solid var(--primary-color);
      padding-bottom: 10px;
      margin-bottom: 20px;
      color: var(--primary-color);
      font-weight: 700;
      position: relative;
      text-decoration: none !important;
    }
    
    .markdown-section h1::after {
      content: '';
      position: absolute;
      bottom: -3px;
      left: 0;
      width: 100%;
      height: 3px;
      background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
      border-radius: 2px;
      z-index: 1;
    }
    
    .markdown-section h2 {
      border-left: 4px solid var(--accent-color);
      padding-left: 15px;
      margin-top: 30px;
      color: var(--text-primary);
      text-decoration: none !important;
    }
    
    .markdown-section h2:hover {
      text-decoration: none !important;
    }
    
    .markdown-section h3 {
      color: var(--text-secondary);
      font-weight: 600;
      text-decoration: none !important;
    }
    
    .markdown-section h3:hover {
      text-decoration: none !important;
    }
    
    /* å»æ‰æ‰€æœ‰æ ‡é¢˜çš„æ‚¬åœä¸‹åˆ’çº¿ - æ›´å¼ºåˆ¶æ€§çš„æ ·å¼ */
    .markdown-section h1,
    .markdown-section h2,
    .markdown-section h3,
    .markdown-section h4,
    .markdown-section h5,
    .markdown-section h6 {
      text-decoration: none !important;
    }
    
    .markdown-section h1:hover,
    .markdown-section h2:hover,
    .markdown-section h3:hover,
    .markdown-section h4:hover,
    .markdown-section h5:hover,
    .markdown-section h6:hover {
      text-decoration: none !important;
      border-bottom: none !important;
    }
    
    /* ç¡®ä¿æ ‡é¢˜é“¾æ¥ä¹Ÿæ²¡æœ‰ä¸‹åˆ’çº¿ */
    .markdown-section h1 a,
    .markdown-section h2 a,
    .markdown-section h3 a,
    .markdown-section h4 a,
    .markdown-section h5 a,
    .markdown-section h6 a {
      text-decoration: none !important;
    }
    
    .markdown-section h1 a:hover,
    .markdown-section h2 a:hover,
    .markdown-section h3 a:hover,
    .markdown-section h4 a:hover,
    .markdown-section h5 a:hover,
    .markdown-section h6 a:hover {
      text-decoration: none !important;
    }
    
    /* æ¦‚è§ˆé¡µé¢ç‰¹æ®Šæ ·å¼ */
    .markdown-section img {
      max-width: 100%;
      height: auto;
      border-radius: 12px;
      box-shadow: 0 8px 24px rgba(0,0,0,0.1);
      animation: fadeInUp 1s ease-out;
    }
    
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    
    /* å¡ç‰‡æ ·å¼ */
    .markdown-section div[style*="background"] {
      transition: transform 0.3s, box-shadow 0.3s;
    }
    
    .markdown-section div[style*="background"]:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 16px rgba(0,0,0,0.15) !important;
    }
    
    /* æŒ‰é’®é“¾æ¥æ ·å¼ */
    .markdown-section a[style*="gradient"] {
      transition: all 0.3s;
    }
    
    .markdown-section a[style*="gradient"]:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(37, 99, 235, 0.5) !important;
    }
    
    /* ä»£ç å—ä¿æŒåŸæœ‰æ ·å¼ä½†èƒŒæ™¯é€æ˜ */
    .markdown-section pre {
      background: #f8f9fa !important;
      border-left: 4px solid var(--primary-color);
    }
    
    /* ä¾§è¾¹æ èƒŒæ™¯æ¸å˜ */
    .sidebar {
      background: linear-gradient(180deg, #f7f9fc 0%, #eef4ff 100%) !important;
      box-shadow: 2px 0 10px rgba(0, 0, 0, 0.05);
      border-right: 1px solid #e2e8f0;
    }
    
    @media (max-width: 768px) {
      .sidebar {
        width: 100% !important;
        min-width: 100% !important;
        max-width: 100% !important;
      }
      .sidebar-resizer {
        display: none;
      }
      .content {
        margin-left: 0 !important;
      }
    }
    /* Notebook é“¾æ¥æ ·å¼ - å¢å¼ºç‰ˆ */
    .notebook-link {
      display: inline-flex;
      align-items: center;
      padding: 12px 24px;
      margin: 10px 6px;
      background: linear-gradient(135deg, #2563eb 0%, #7c3aed 100%);
      color: white !important;
      text-decoration: none !important;
      border-radius: 10px;
      font-weight: 600;
      font-size: 1em;
      box-shadow: 0 4px 12px rgba(37, 99, 235, 0.3);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
      border: 2px solid transparent;
    }
    
    .notebook-link::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s;
    }
    
    .notebook-link:hover {
      transform: translateY(-3px) scale(1.02);
      box-shadow: 0 8px 20px rgba(37, 99, 235, 0.4);
      color: white !important;
      border-color: rgba(255, 255, 255, 0.3);
    }
    
    .notebook-link:hover::before {
      left: 100%;
    }
    
    .notebook-link:active {
      transform: translateY(-1px) scale(0.98);
    }
    
    /* åˆ—è¡¨ä¸­çš„ Notebook é“¾æ¥ */
    ul .notebook-link,
    ol .notebook-link {
      display: inline-flex;
      margin: 8px 4px;
    }
    
    /* ä»£ç å—ä¸­çš„é“¾æ¥æ ·å¼ */
    code a.notebook-link {
      display: inline-flex;
      padding: 6px 12px;
      margin: 4px 2px;
      font-size: 0.85em;
    }
    
    /* æ®µè½ä¸­çš„ Notebook é“¾æ¥ */
    p .notebook-link {
      display: inline-flex;
      vertical-align: middle;
    }
    
    /* å“åº”å¼è®¾è®¡ */
    @media (max-width: 768px) {
      .notebook-link {
        padding: 10px 18px;
        font-size: 0.9em;
        margin: 8px 4px;
      }
    }
  </style>
</head>

<body>
  <div id="app"></div>
  <script>
    // ä¾§è¾¹æ æ‹–åŠ¨è°ƒæ•´å®½åº¦åŠŸèƒ½ï¼ˆå…¨å±€å‡½æ•°ï¼‰
    let isDragging = false;
    let startX = 0;
    let startWidth = 0;
    let resizer = null;
    
    function initSidebarResizer() {
      const sidebar = document.querySelector('.sidebar');
      if (!sidebar) {
        return;
      }
      
      // æ£€æŸ¥æ˜¯å¦å·²ç»åˆ›å»ºäº†æ‹–åŠ¨æ¡
      if (sidebar.querySelector('.sidebar-resizer')) {
        return;
      }
      
      // ç¡®ä¿ä¾§è¾¹æ æœ‰ç›¸å¯¹å®šä½
      const sidebarStyle = window.getComputedStyle(sidebar);
      if (sidebarStyle.position === 'static') {
        sidebar.style.position = 'relative';
      }
      
      // åˆ›å»ºæ‹–åŠ¨æ¡
      resizer = document.createElement('div');
      resizer.className = 'sidebar-resizer';
      resizer.setAttribute('title', 'æ‹–åŠ¨è°ƒæ•´ä¾§è¾¹æ å®½åº¦');
      sidebar.appendChild(resizer);
      
      // ä» localStorage æ¢å¤å®½åº¦
      const savedWidth = localStorage.getItem('sidebar-width');
      if (savedWidth) {
        document.documentElement.style.setProperty('--sidebar-width', savedWidth + 'px');
      }
      
      // é¼ æ ‡æŒ‰ä¸‹äº‹ä»¶
      resizer.addEventListener('mousedown', function(e) {
        isDragging = true;
        startX = e.clientX;
        startWidth = parseInt(window.getComputedStyle(sidebar).width, 10);
        resizer.classList.add('dragging');
        document.body.style.cursor = 'col-resize';
        document.body.style.userSelect = 'none';
        e.preventDefault();
        e.stopPropagation();
      });
      
      // é¼ æ ‡ç§»åŠ¨äº‹ä»¶
      const handleMouseMove = function(e) {
        if (!isDragging) return;
        
        const diff = e.clientX - startX;
        let newWidth = startWidth + diff;
        
        // é™åˆ¶æœ€å°å’Œæœ€å¤§å®½åº¦
        newWidth = Math.max(300, Math.min(600, newWidth));
        
        document.documentElement.style.setProperty('--sidebar-width', newWidth + 'px');
        
        // ä¿å­˜åˆ° localStorage
        localStorage.setItem('sidebar-width', newWidth);
        
        e.preventDefault();
      };
      
      document.addEventListener('mousemove', handleMouseMove);
      
      // é¼ æ ‡é‡Šæ”¾äº‹ä»¶
      const handleMouseUp = function() {
        if (isDragging) {
          isDragging = false;
          if (resizer) {
            resizer.classList.remove('dragging');
          }
          document.body.style.cursor = '';
          document.body.style.userSelect = '';
        }
      };
      
      document.addEventListener('mouseup', handleMouseUp);
      
      console.log('ä¾§è¾¹æ æ‹–åŠ¨åŠŸèƒ½å·²åˆå§‹åŒ–');
    }
    
    // Docsify é…ç½®
    window.$docsify = {
      name: 'äººå·¥æ™ºèƒ½å…¥é—¨',
      // è®¾ç½®æ ¹ç›®å½•ä¸º lessons_zh
      loadSidebar: '_sidebar.md',  // æ˜ç¡®æŒ‡å®šä¾§è¾¹æ æ–‡ä»¶
      subMaxLevel: 3,
      relativePath: true,  // ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼ˆhash æ¨¡å¼æ¨èï¼‰
      auto2top: true,
      routerMode: 'hash',  // ä½¿ç”¨ hash æ¨¡å¼
      collapseSidebar: true,  // å¯ç”¨ä¾§è¾¹æ æŠ˜å 
      // è®¾ç½®ä¸»é¡µä¸º lessons_zh/READMEï¼ˆä½¿ç”¨ç»å¯¹è·¯å¾„ï¼‰
      homepage: '/lessons_zh/README',
      coverpage: false,  // ç¦ç”¨å°é¢é¡µ
      // Jupyter Lab é…ç½®
      jupyterUrl: 'http://localhost:8888',  // Jupyter æœåŠ¡å™¨åœ°å€
      jupyterMode: 'lab',  // 'lab' æˆ– 'notebook'ï¼Œé»˜è®¤ä½¿ç”¨ Jupyter Lab
      jupyterToken: '',  // Jupyter tokenï¼ˆå¯é€‰ï¼Œå¦‚æœä¸ºç©ºåˆ™å°è¯•è‡ªåŠ¨è·å–ï¼‰
      // æ’ä»¶ï¼šè‡ªåŠ¨è½¬æ¢ .ipynb é“¾æ¥å’Œä¿®å¤å›¾ç‰‡è·¯å¾„
      plugins: [
        function(hook, vm) {
          // è·¯å¾„æ ‡å‡†åŒ–å‡½æ•°
          function normalizeNotebookPath(href, currentPath) {
            let notebookPath = href;
            
            // å¦‚æœå·²ç»æ˜¯å®Œæ•´ URLï¼Œç›´æ¥è¿”å›
            if (notebookPath.startsWith('http://') || notebookPath.startsWith('https://')) {
              return notebookPath;
            }
            
            // è·å–å½“å‰é¡µé¢çš„ç›®å½•è·¯å¾„ï¼ˆç§»é™¤æ–‡ä»¶åï¼‰
            let pathParts = currentPath.split('/').filter(p => p);
            // ç§»é™¤æœ€åçš„æ–‡ä»¶åï¼ˆREADME æˆ– README.mdï¼‰
            if (pathParts.length > 0 && (pathParts[pathParts.length - 1] === 'README' || pathParts[pathParts.length - 1].endsWith('.md'))) {
              pathParts.pop();
            }
            const currentDir = pathParts.join('/');
            
            // å¤„ç†ç»å¯¹è·¯å¾„ï¼ˆä»¥ / å¼€å¤´ï¼‰
            if (notebookPath.startsWith('/')) {
              // ç§»é™¤å‰å¯¼æ–œæ ï¼Œä¿ç•™ lessons_zh/ å‰ç¼€
              notebookPath = notebookPath.substring(1);
              if (!notebookPath.startsWith('lessons_zh/')) {
                notebookPath = 'lessons_zh/' + notebookPath;
              }
              return notebookPath;
            }
            
            // å¤„ç†ç›¸å¯¹è·¯å¾„ï¼ˆä»¥ ./ å¼€å¤´ï¼‰
            if (notebookPath.startsWith('./')) {
              notebookPath = notebookPath.substring(2);
              if (currentDir) {
                return currentDir + '/' + notebookPath;
              }
              return notebookPath;
            }
            
            // å¤„ç†çˆ¶ç›®å½•è·¯å¾„ï¼ˆä»¥ ../ å¼€å¤´ï¼‰
            if (notebookPath.startsWith('../')) {
              const pathParts = currentDir.split('/').filter(p => p && p !== 'lessons_zh');
              const notebookParts = notebookPath.split('/').filter(p => p);
              
              // å¤„ç†æ¯ä¸ª ../
              for (let part of notebookParts) {
                if (part === '..') {
                  if (pathParts.length > 0) {
                    pathParts.pop();
                  }
                } else {
                  pathParts.push(part);
                }
              }
              
              // ç¡®ä¿ä»¥ lessons_zh/ å¼€å¤´
              const result = pathParts.join('/');
              if (!result.startsWith('lessons_zh/')) {
                return 'lessons_zh/' + result;
              }
              return result;
            }
            
            // æ™®é€šç›¸å¯¹è·¯å¾„ï¼ˆæ— å‰ç¼€ï¼‰
            if (currentDir) {
              return currentDir + '/' + notebookPath;
            }
            
            return notebookPath;
          }
          
          // è‡ªåŠ¨ä» Jupyter API è·å– token
          async function fetchJupyterToken(baseUrl) {
            try {
              // å°è¯•ä» Jupyter API è·å– token
              // æ³¨æ„ï¼šè¿™éœ€è¦ Jupyter æœåŠ¡å™¨å…è®¸ CORSï¼Œæˆ–è€…é€šè¿‡ä»£ç†
              const response = await fetch(`${baseUrl}/api/authorizations/token`, {
                method: 'POST',
                headers: {
                  'Content-Type': 'application/json',
                },
                credentials: 'include',
                mode: 'cors'
              });
              
              if (response.ok) {
                const data = await response.json();
                if (data.token) {
                  localStorage.setItem('jupyter_token', data.token);
                  return data.token;
                }
              }
            } catch (error) {
              // API è°ƒç”¨å¤±è´¥ï¼Œå°è¯•å…¶ä»–æ–¹æ³•
              console.debug('æ— æ³•ä» API è·å– tokenï¼Œå°è¯•å…¶ä»–æ–¹æ³•...');
            }
            
            return null;
          }
          
          // ä» Jupyter æœåŠ¡å™¨åˆ—è¡¨é¡µé¢è·å– tokenï¼ˆé€šè¿‡è§£æé¡µé¢ï¼‰
          async function extractTokenFromPage(baseUrl) {
            try {
              // å°è¯•è®¿é—® Jupyter ä¸»é¡µï¼Œå¯èƒ½ä¼šé‡å®šå‘åˆ°å¸¦ token çš„ URL
              const response = await fetch(baseUrl, {
                method: 'GET',
                credentials: 'include',
                redirect: 'manual'
              });
              
              // æ£€æŸ¥ Location å¤´ä¸­çš„ token
              const location = response.headers.get('Location');
              if (location) {
                const tokenMatch = location.match(/[?&]token=([^&]+)/);
                if (tokenMatch) {
                  const token = tokenMatch[1];
                  localStorage.setItem('jupyter_token', token);
                  return token;
                }
              }
            } catch (error) {
              console.debug('æ— æ³•ä»é¡µé¢æå– token');
            }
            
            return null;
          }
          
          // ä»æœ¬åœ° token æœåŠ¡è·å– token
          async function fetchTokenFromLocalService() {
            try {
              const response = await fetch('http://127.0.0.1:8765/token', {
                method: 'GET',
                mode: 'cors',
                cache: 'no-cache'
              });
              
              if (response.ok) {
                const data = await response.json();
                if (data.success && data.token) {
                  localStorage.setItem('jupyter_token', data.token);
                  return data.token;
                }
              }
            } catch (error) {
              // æœ¬åœ°æœåŠ¡æœªè¿è¡Œï¼Œè¿™æ˜¯æ­£å¸¸çš„
              console.debug('æœ¬åœ° token æœåŠ¡æœªè¿è¡Œï¼ˆè¿™æ˜¯æ­£å¸¸çš„ï¼Œå¦‚æœå·²é…ç½® token åˆ™æ— éœ€è¿è¡Œï¼‰');
            }
            return null;
          }
          
          // è·å– Jupyter tokenï¼ˆä»å¤šä¸ªæ¥æºå°è¯•ï¼‰
          async function getJupyterToken(config) {
            const baseUrl = config.jupyterUrl || 'http://localhost:8888';
            
            // é¦–å…ˆæ£€æŸ¥é…ç½®ä¸­çš„ token
            if (config.jupyterToken) {
              return config.jupyterToken;
            }
            
            // æ£€æŸ¥ localStorage ä¸­æ˜¯å¦ä¿å­˜äº† token
            const savedToken = localStorage.getItem('jupyter_token');
            if (savedToken) {
              return savedToken;
            }
            
            // å°è¯•ä»æœ¬åœ° token æœåŠ¡è·å–ï¼ˆæœ€æ–¹ä¾¿çš„æ–¹å¼ï¼‰
            const localToken = await fetchTokenFromLocalService();
            if (localToken) {
              return localToken;
            }
            
            // å°è¯•ä»å½“å‰ URL ä¸­æå– tokenï¼ˆå¦‚æœç”¨æˆ·å·²ç»ç™»å½•è¿‡ï¼‰
            const urlParams = new URLSearchParams(window.location.search);
            const urlToken = urlParams.get('token');
            if (urlToken) {
              localStorage.setItem('jupyter_token', urlToken);
              return urlToken;
            }
            
            // å°è¯•è‡ªåŠ¨è·å– tokenï¼ˆå¼‚æ­¥ï¼Œä¸é˜»å¡ï¼‰
            // æ³¨æ„ï¼šç”±äº CORS é™åˆ¶ï¼Œè¿™å¯èƒ½ä¸ä¼šæˆåŠŸï¼Œä½†å€¼å¾—å°è¯•
            fetchJupyterToken(baseUrl).then(token => {
              if (token) {
                console.log('âœ… è‡ªåŠ¨è·å– Jupyter token æˆåŠŸ');
              }
            }).catch(() => {});
            
            extractTokenFromPage(baseUrl).then(token => {
              if (token) {
                console.log('âœ… ä»é¡µé¢æå– Jupyter token æˆåŠŸ');
              }
            }).catch(() => {});
            
            return null;
          }
          
          // æ„å»º Jupyter URLï¼ˆåŒæ­¥ç‰ˆæœ¬ï¼Œä½¿ç”¨å·²ç¼“å­˜çš„ tokenï¼‰
          function buildJupyterUrl(notebookPath, config) {
            const baseUrl = config.jupyterUrl || 'http://localhost:8888';
            const mode = config.jupyterMode || 'lab';
            
            // è·å– tokenï¼ˆä¼˜å…ˆä»é…ç½®ï¼Œç„¶åä» localStorageï¼‰
            let token = config.jupyterToken || localStorage.getItem('jupyter_token');
            
            // ç¡®ä¿è·¯å¾„æ˜¯æ­£ç¡®çš„æ ¼å¼ï¼ˆç§»é™¤å‰å¯¼æ–œæ ï¼Œå¦‚æœæœ‰çš„è¯ï¼‰
            let cleanPath = notebookPath;
            if (cleanPath.startsWith('/')) {
              cleanPath = cleanPath.substring(1);
            }
            
            // Jupyter Lab ç›´æ¥æ‰“å¼€æ–‡ä»¶çš„ URL æ ¼å¼
            // ä½¿ç”¨ /lab/tree/ è€Œä¸æ˜¯ /lab/workspaces/ï¼Œè¿™æ ·å¯ä»¥ç›´æ¥æ‰“å¼€æ–‡ä»¶
            let url;
            if (mode === 'lab') {
              // Jupyter Lab: /lab/tree/path/to/notebook.ipynb ä¼šç›´æ¥æ‰“å¼€æ–‡ä»¶
              url = `${baseUrl}/lab/tree/${cleanPath}`;
            } else {
              // Jupyter Notebook ç»å…¸ç•Œé¢
              url = `${baseUrl}/notebooks/${cleanPath}`;
            }
            
            // å¦‚æœå­˜åœ¨ token åˆ™æ·»åŠ åˆ°æŸ¥è¯¢å‚æ•°ä¸­
            if (token) {
              const separator = url.includes('?') ? '&' : '?';
              url = `${url}${separator}token=${token}`;
            }
            
            return url;
          }
          
          // é¡µé¢åŠ è½½æ—¶è‡ªåŠ¨è·å– tokenï¼ˆå¼‚æ­¥ï¼Œä¸é˜»å¡é¡µé¢æ¸²æŸ“ï¼‰
          async function autoFetchToken() {
            const config = window.$docsify || {};
            
            // å¦‚æœå·²æœ‰ tokenï¼Œä¸éœ€è¦è·å–
            if (config.jupyterToken || localStorage.getItem('jupyter_token')) {
              return;
            }
            
            // å°è¯•ä»æœ¬åœ°æœåŠ¡è·å– token
            try {
              const token = await fetchTokenFromLocalService();
              if (token) {
                console.log('âœ… å·²è‡ªåŠ¨è·å– Jupyter token');
                // è§¦å‘é¡µé¢æ›´æ–°ï¼ˆå¦‚æœæœ‰é“¾æ¥éœ€è¦åˆ·æ–°ï¼‰
                if (window.$docsify) {
                  window.$docsify.jupyterToken = token;
                }
              }
            } catch (error) {
              // é™é»˜å¤±è´¥ï¼Œä¸å½±å“é¡µé¢ä½¿ç”¨
            }
          }
          
          hook.afterEach(function(html) {
            // è·å–é…ç½®
            const config = {
              jupyterUrl: window.$docsify.jupyterUrl || 'http://localhost:8888',
              jupyterMode: window.$docsify.jupyterMode || 'lab',
              jupyterToken: window.$docsify.jupyterToken || ''
            };
            
            // è·å–å½“å‰é¡µé¢è·¯å¾„
            const currentPath = vm.route.path || '';
            
            // å°† .ipynb é“¾æ¥è½¬æ¢ä¸º Jupyter Lab é“¾æ¥
            html = html.replace(
              /<a\s+href=["']([^"']+\.ipynb)["']([^>]*)>([^<]+)<\/a>/gi,
              function(match, href, attrs, text) {
                // æ ‡å‡†åŒ–è·¯å¾„
                const notebookPath = normalizeNotebookPath(href, currentPath);
                
                // æ„å»º Jupyter URLï¼ˆåˆå§‹å¯èƒ½æ²¡æœ‰ tokenï¼‰
                const jupyterUrl = buildJupyterUrl(notebookPath, config);
                
                // è¿”å›æ–°çš„é“¾æ¥ï¼Œæ·»åŠ  notebook-link ç±»å’Œ target="_blank"
                // ç§»é™¤åŸæœ‰çš„ class å±æ€§ï¼ˆå¦‚æœæœ‰ï¼‰ï¼Œæ·»åŠ æˆ‘ä»¬çš„æ ·å¼ç±»
                // æ·»åŠ  data-notebook-path å±æ€§ï¼Œç”¨äºç‚¹å‡»æ—¶åŠ¨æ€è·å– token
                const cleanAttrs = attrs.replace(/\s*class=["'][^"']*["']/gi, '');
                return `<a href="${jupyterUrl}" target="_blank" class="notebook-link" data-notebook-path="${notebookPath}" ${cleanAttrs}>ğŸ““ ${text}</a>`;
              }
            );
            
            // ä¿®å¤å›¾ç‰‡è·¯å¾„ - å°†ç›¸å¯¹è·¯å¾„è½¬æ¢ä¸ºç»å¯¹è·¯å¾„
            html = html.replace(
              /<img([^>]*)\ssrc=["']([^"']+)["']([^>]*)>/gi,
              function(match, before, src, after) {
                // å¦‚æœå·²ç»æ˜¯ç»å¯¹è·¯å¾„æˆ–å®Œæ•´URLï¼Œä¸å¤„ç†
                if (src.startsWith('http://') || src.startsWith('https://') || src.startsWith('//') || src.startsWith('/lessons_zh/')) {
                  return match;
                }
                
                // è·å–å½“å‰é¡µé¢è·¯å¾„
                const currentPath = vm.route.path;
                let imagePath = src;
                
                // å¤„ç†ç›¸å¯¹è·¯å¾„
                if (imagePath.startsWith('./')) {
                  imagePath = imagePath.substring(2);
                }
                
                // å¦‚æœè·¯å¾„ä»¥ ../ å¼€å¤´ï¼Œéœ€è¦è®¡ç®—ç›¸å¯¹è·¯å¾„
                if (imagePath.startsWith('../')) {
                  // è®¡ç®—ç›¸å¯¹äºå½“å‰æ–‡ä»¶çš„è·¯å¾„
                  const pathParts = currentPath.split('/').filter(p => p);
                  const imageParts = imagePath.split('/').filter(p => p);
                  
                  // ç§»é™¤æ–‡ä»¶å
                  pathParts.pop();
                  
                  // å¤„ç† ../
                  for (let part of imageParts) {
                    if (part === '..') {
                      pathParts.pop();
                    } else {
                      pathParts.push(part);
                    }
                  }
                  
                  imagePath = '/lessons_zh/' + pathParts.join('/');
                } else if (!imagePath.startsWith('/')) {
                  // ç›¸å¯¹è·¯å¾„ï¼Œéœ€è¦åŸºäºå½“å‰æ–‡ä»¶è·¯å¾„
                  const pathParts = currentPath.split('/').filter(p => p);
                  pathParts.pop(); // ç§»é™¤æ–‡ä»¶å
                  if (pathParts.length > 0) {
                    imagePath = '/lessons_zh/' + pathParts.join('/') + '/' + imagePath;
                  } else {
                    imagePath = '/lessons_zh/' + imagePath;
                  }
                }
                
                return `<img${before} src="${imagePath}"${after}>`;
              }
            );
            
            return html;
          });
          
          // ç›‘å¬è·¯ç”±å˜åŒ–ï¼Œåˆå§‹åŒ–æ‹–åŠ¨åŠŸèƒ½
          hook.doneEach(function() {
            setTimeout(function() {
              if (typeof initSidebarResizer === 'function') {
                initSidebarResizer();
              }
              
              // å¤„ç†é¦–é¡µç›®å½•çš„å±•å¼€/æŠ˜å é€»è¾‘
              handleHomepageSidebar();
              
              // æ£€æµ‹æ˜¯å¦æ˜¯é¦–é¡µï¼Œæ·»åŠ æ¶‚é¸¦èƒŒæ™¯
              const currentPath = window.location.hash || window.location.pathname;
              const isHomepage = !currentPath || 
                                 currentPath === '#' || 
                                 currentPath === '#/' || 
                                 currentPath.includes('lessons_zh/README') ||
                                 currentPath.includes('/lessons_zh/README');
              
              // å¤šæ¬¡å°è¯•æŸ¥æ‰¾ markdown-sectionï¼Œå› ä¸º Docsify å¯èƒ½è¿˜åœ¨æ¸²æŸ“
              function applyHomepageBg() {
                const markdownSection = document.querySelector('.markdown-section');
                if (markdownSection) {
                  if (isHomepage) {
                    markdownSection.classList.add('homepage-doodle-bg');
                    // å¼ºåˆ¶åº”ç”¨èƒŒæ™¯æ ·å¼
                    markdownSection.style.background = '';
                  } else {
                    markdownSection.classList.remove('homepage-doodle-bg');
                  }
                } else {
                  // å¦‚æœè¿˜æ²¡æ‰¾åˆ°ï¼Œå»¶è¿Ÿé‡è¯•
                  setTimeout(applyHomepageBg, 100);
                }
              }
              applyHomepageBg();
            }, 300);
          });
          
          // é¡µé¢åŠ è½½å®Œæˆåå¤„ç†é¦–é¡µç›®å½•
          hook.mounted(function() {
            setTimeout(function() {
              handleHomepageSidebar();
            }, 800);
          });
          
          // è·¯ç”±å˜åŒ–æ—¶ä¹Ÿå¤„ç†
          hook.afterEach(function() {
            setTimeout(function() {
              handleHomepageSidebar();
              initSidebarCollapse();  // åˆå§‹åŒ–ç›®å½•æŠ˜å åŠŸèƒ½
              handleSidebarToggle();  // å¤„ç†ä¾§è¾¹æ æ˜¾ç¤º/éšè—
            }, 300);
          });
          
          // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
          hook.mounted(function() {
            setTimeout(function() {
              initSidebarCollapse();  // åˆå§‹åŒ–ç›®å½•æŠ˜å åŠŸèƒ½
              handleSidebarToggle();  // å¤„ç†ä¾§è¾¹æ æ˜¾ç¤º/éšè—
            }, 1000);
          });
        }
      ]
    };
    
    // å¤„ç†é¦–é¡µç›®å½•çš„å±•å¼€/æŠ˜å é€»è¾‘
    function handleHomepageSidebar() {
      const currentPath = window.location.hash || window.location.pathname;
      const isHomepage = !currentPath || 
                         currentPath === '#' || 
                         currentPath === '#/' || 
                         currentPath.includes('lessons_zh/README') ||
                         currentPath.includes('/lessons_zh/README');
      
      // æ£€æŸ¥æ˜¯å¦æ˜¯é¦–æ¬¡è®¿é—®é¦–é¡µ
      const isFirstVisit = !sessionStorage.getItem('hasVisitedHomepage');
      
      function processSidebar() {
        const firstSidebarItem = document.querySelector('.sidebar .sidebar-nav ul > li:first-child');
        if (!firstSidebarItem) {
          // å¦‚æœä¾§è¾¹æ è¿˜æ²¡åŠ è½½ï¼Œå»¶è¿Ÿé‡è¯•
          setTimeout(processSidebar, 200);
          return;
        }
        
        const firstSubmenu = firstSidebarItem.querySelector('ul');
        if (!firstSubmenu) return;
        
        if (isFirstVisit && isHomepage) {
          // é¦–æ¬¡è¿›å…¥é¦–é¡µï¼ŒæŠ˜å é¦–é¡µç›®å½•
          firstSubmenu.style.display = 'none';
          sessionStorage.setItem('homepageCollapsed', 'true');
        } else {
          // ä¸æ˜¯é¦–æ¬¡è®¿é—®æˆ–ä¸åœ¨é¦–é¡µï¼Œå±•å¼€é¦–é¡µç›®å½•
          if (sessionStorage.getItem('homepageCollapsed') === 'true') {
            firstSubmenu.style.display = 'block';
            sessionStorage.removeItem('homepageCollapsed');
          }
        }
        
        // ç›‘å¬é¦–é¡µé“¾æ¥ç‚¹å‡»ï¼ˆä½¿ç”¨äº‹ä»¶å§”æ‰˜é¿å…é‡å¤ç»‘å®šï¼‰
        const homepageLink = firstSidebarItem.querySelector('a');
        if (homepageLink && !homepageLink.dataset.listenerAdded) {
          homepageLink.dataset.listenerAdded = 'true';
          homepageLink.addEventListener('click', function() {
            // ç‚¹å‡»é¦–é¡µé“¾æ¥åï¼Œå±•å¼€ç›®å½•å¹¶æ ‡è®°å·²è®¿é—®
            const submenu = firstSidebarItem.querySelector('ul');
            if (submenu) {
              submenu.style.display = 'block';
            }
            sessionStorage.setItem('hasVisitedHomepage', 'true');
            sessionStorage.removeItem('homepageCollapsed');
          });
        }
      }
      
      processSidebar();
      
      // ç›‘å¬è·¯ç”±å˜åŒ–ï¼Œå¦‚æœè·³è½¬åˆ°å…¶ä»–é¡µé¢ï¼Œæ ‡è®°å·²è®¿é—®
      if (!isHomepage) {
        sessionStorage.setItem('hasVisitedHomepage', 'true');
        sessionStorage.removeItem('homepageCollapsed');
      }
    }
    
    // åº”ç”¨é¦–é¡µèƒŒæ™¯çš„å‡½æ•°
    function applyHomepageBackground() {
      const currentPath = window.location.hash || window.location.pathname;
      const isHomepage = !currentPath || 
                         currentPath === '#' || 
                         currentPath === '#/' || 
                         currentPath.includes('lessons_zh/README') ||
                         currentPath.includes('/lessons_zh/README');
      
      function tryApply() {
        const markdownSection = document.querySelector('.markdown-section');
        if (markdownSection) {
          if (isHomepage) {
            markdownSection.classList.add('homepage-doodle-bg');
          } else {
            markdownSection.classList.remove('homepage-doodle-bg');
          }
        } else {
          setTimeout(tryApply, 100);
        }
      }
      tryApply();
    }
    
    // åˆå§‹åŒ–ç›®å½•æŠ˜å åŠŸèƒ½ - ç‚¹å‡»ç›®å½•æ ‡é¢˜å±•å¼€/æ”¶èµ·å­ç›®å½•
    function initSidebarCollapse() {
      const sidebar = document.querySelector('.sidebar');
      if (!sidebar) {
        setTimeout(initSidebarCollapse, 200);
        return;
      }
      
      // æ‰¾åˆ°æ‰€æœ‰æœ‰å­ç›®å½•çš„ä¸€çº§ç›®å½•é¡¹
      const parentItems = sidebar.querySelectorAll('.sidebar-nav ul > li:has(ul)');
      
      parentItems.forEach(function(item) {
        const parentLink = item.querySelector('> a');
        const submenu = item.querySelector('> ul');
        
        if (!parentLink || !submenu) {
          // å¦‚æœæ²¡æœ‰å­ç›®å½•ï¼Œæ ‡è®°ä¸ºæ— å­ç›®å½•
          if (parentLink) {
            parentLink.classList.add('no-children');
          }
          return;
        }
        
        // æ£€æŸ¥æ˜¯å¦å·²ç»æ·»åŠ äº†äº‹ä»¶ç›‘å¬å™¨
        if (parentLink.dataset.collapseInitialized === 'true') {
          return;
        }
        
        parentLink.dataset.collapseInitialized = 'true';
        
        // æ£€æŸ¥æ˜¯å¦åº”è¯¥é»˜è®¤æŠ˜å ï¼ˆé¦–æ¬¡è®¿é—®é¦–é¡µçš„æƒ…å†µï¼‰
        const isFirstItem = item === parentItems[0];
        const isHomepageCollapsed = isFirstItem && sessionStorage.getItem('homepageCollapsed') === 'true';
        
        if (isHomepageCollapsed) {
          submenu.classList.add('collapsed');
          parentLink.classList.add('collapsed');
        }
        
        // ç‚¹å‡»äº‹ä»¶ï¼šåˆ‡æ¢æŠ˜å /å±•å¼€
        parentLink.addEventListener('click', function(e) {
          // å¦‚æœç‚¹å‡»çš„æ˜¯é“¾æ¥å†…çš„æ–‡æœ¬æˆ–å›¾æ ‡ï¼Œåˆ‡æ¢æŠ˜å çŠ¶æ€
          e.preventDefault();
          e.stopPropagation();
          
          // åˆ‡æ¢æŠ˜å çŠ¶æ€
          const isCollapsed = submenu.classList.contains('collapsed');
          
          if (isCollapsed) {
            submenu.classList.remove('collapsed');
            parentLink.classList.remove('collapsed');
          } else {
            submenu.classList.add('collapsed');
            parentLink.classList.add('collapsed');
          }
          
          // å¦‚æœæ˜¯é¦–é¡µçš„ç¬¬ä¸€é¡¹ï¼Œæ›´æ–° sessionStorage
          if (isFirstItem) {
            if (submenu.classList.contains('collapsed')) {
              sessionStorage.setItem('homepageCollapsed', 'true');
            } else {
              sessionStorage.removeItem('homepageCollapsed');
            }
          }
        });
      });
      
      // å¤„ç†æ²¡æœ‰å­ç›®å½•çš„é“¾æ¥ï¼ˆæ­£å¸¸è·³è½¬ï¼‰
      const noChildItems = sidebar.querySelectorAll('.sidebar-nav ul > li:not(:has(ul)) > a');
      noChildItems.forEach(function(link) {
        link.classList.add('no-children');
      });
    }
    
    // å¤„ç†ä¾§è¾¹æ æ˜¾ç¤º/éšè—æ—¶å†…å®¹å±…ä¸­
    function handleSidebarToggle() {
      const sidebar = document.querySelector('.sidebar');
      const content = document.querySelector('.content');
      const toggleBtn = document.querySelector('.sidebar-toggle');
      
      if (!sidebar || !content) {
        setTimeout(handleSidebarToggle, 200);
        return;
      }
      
      // ç›‘å¬ä¾§è¾¹æ æ˜¾ç¤ºçŠ¶æ€å˜åŒ–
      function updateContentLayout() {
        const sidebarStyle = window.getComputedStyle(sidebar);
        const sidebarVisible = sidebarStyle.display !== 'none' && sidebar.offsetWidth > 0;
        
        if (sidebarVisible) {
          // ä¾§è¾¹æ æ˜¾ç¤ºï¼Œå†…å®¹é å³
          content.style.marginLeft = '';
          content.style.maxWidth = '';
          content.style.marginRight = '';
          document.body.classList.remove('sidebar-hidden');
        } else {
          // ä¾§è¾¹æ éšè—ï¼Œå†…å®¹å±…ä¸­
          content.style.marginLeft = '0';
          content.style.maxWidth = '1200px';
          content.style.marginRight = 'auto';
          document.body.classList.add('sidebar-hidden');
        }
      }
      
      // ç›‘å¬ä¾§è¾¹æ åˆ‡æ¢æŒ‰é’®
      if (toggleBtn) {
        toggleBtn.addEventListener('click', function() {
          setTimeout(updateContentLayout, 100);
        });
      }
      
      // ä½¿ç”¨ MutationObserver ç›‘å¬ä¾§è¾¹æ æ˜¾ç¤ºçŠ¶æ€
      const observer = new MutationObserver(function(mutations) {
        updateContentLayout();
      });
      
      observer.observe(sidebar, {
        attributes: true,
        attributeFilter: ['style', 'class'],
        childList: false,
        subtree: false
      });
      
      // ç›‘å¬çª—å£å¤§å°å˜åŒ–
      window.addEventListener('resize', updateContentLayout);
      
      // åˆå§‹æ£€æŸ¥
      updateContentLayout();
    }
    
    // ç­‰å¾…é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–æ‰€æœ‰åŠŸèƒ½
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', function() {
        setTimeout(initSidebarResizer, 1000);
        setTimeout(handleHomepageSidebar, 1500);
        setTimeout(applyHomepageBackground, 1000);
        setTimeout(initSidebarCollapse, 1500);
        setTimeout(handleSidebarToggle, 1500);
      });
    } else {
      setTimeout(initSidebarResizer, 1000);
      setTimeout(handleHomepageSidebar, 1500);
      setTimeout(applyHomepageBackground, 1000);
      setTimeout(initSidebarCollapse, 1500);
      setTimeout(handleSidebarToggle, 1500);
    }
    
    // ç›‘å¬ hash å˜åŒ–ï¼Œåº”ç”¨é¦–é¡µèƒŒæ™¯å’Œé‡æ–°åˆå§‹åŒ–
    window.addEventListener('hashchange', function() {
      setTimeout(applyHomepageBackground, 300);
      setTimeout(initSidebarCollapse, 500);
      setTimeout(handleSidebarToggle, 500);
    });
  </script>
  <script src="//cdn.jsdelivr.net/npm/docsify/lib/docsify.min.js"></script>
  <script>
    // ç¡®ä¿é»˜è®¤åŠ è½½ä¸­æ–‡å†…å®¹
    (function() {
      // åœ¨é¡µé¢åŠ è½½æ—¶æ£€æŸ¥è·¯ç”±
      const currentHash = window.location.hash;
      
      // å¦‚æœè®¿é—®æ ¹è·¯å¾„ä¸”æ²¡æœ‰ hash æˆ– hash ä¸ºç©ºï¼Œè®¾ç½®é»˜è®¤è·¯ç”±
      if (!currentHash || currentHash === '#' || currentHash === '#/') {
        // ç›´æ¥è®¾ç½® hashï¼Œè®© Docsify å¤„ç†ï¼ˆä½¿ç”¨ç»å¯¹è·¯å¾„ï¼‰
        window.location.hash = '#/lessons_zh/README';
      }
    })();
    
    // Jupyter Token è‡ªåŠ¨è·å–åŠŸèƒ½
    (function() {
      // è‡ªåŠ¨è·å– token çš„å‡½æ•°
      async function fetchTokenNow() {
        try {
          const response = await fetch('http://127.0.0.1:8765/token', {
            method: 'GET',
            mode: 'cors',
            cache: 'no-cache'
          });
          
          if (response.ok) {
            const data = await response.json();
            if (data.success && data.token) {
              localStorage.setItem('jupyter_token', data.token);
              if (window.$docsify) {
                window.$docsify.jupyterToken = data.token;
              }
              return data.token;
            }
          }
        } catch (error) {
          // æœ¬åœ°æœåŠ¡æœªè¿è¡Œï¼Œè¿™æ˜¯æ­£å¸¸çš„
        }
        return null;
      }
      
      // ç­‰å¾…é¡µé¢åŠ è½½å®Œæˆåè‡ªåŠ¨è·å– token
      window.addEventListener('load', function() {
        // å»¶è¿Ÿæ‰§è¡Œï¼Œç¡®ä¿ Docsify å·²åˆå§‹åŒ–
        setTimeout(async function() {
          const config = window.$docsify || {};
          const savedToken = localStorage.getItem('jupyter_token');
          const configToken = config.jupyterToken || '';
          
          // å¦‚æœæ—¢æ²¡æœ‰é…ç½® tokenï¼Œä¹Ÿæ²¡æœ‰ä¿å­˜çš„ tokenï¼Œå°è¯•è‡ªåŠ¨è·å–
          if (!configToken && !savedToken) {
            const token = await fetchTokenNow();
            if (token) {
              console.log('%câœ… å·²è‡ªåŠ¨è·å– Jupyter tokenï¼Œç°åœ¨å¯ä»¥ç›´æ¥ç‚¹å‡» Notebook é“¾æ¥äº†ï¼', 'color: #10b981; font-size: 12px; font-weight: bold;');
            } else {
              // æœ¬åœ°æœåŠ¡æœªè¿è¡Œï¼Œæ˜¾ç¤ºæç¤º
              if (!sessionStorage.getItem('jupyter_token_prompt_shown')) {
                console.log('%cğŸ’¡ æç¤ºï¼šå¯åŠ¨ token æœåŠ¡å¯è‡ªåŠ¨è·å– Jupyter token', 'color: #2563eb; font-size: 12px; font-weight: bold;');
                console.log('%c   è¿è¡Œ: python3 jupyter_token_server.py', 'color: #64748b; font-size: 11px;');
                console.log('%c   æˆ–è€…: ./setup_jupyter_token.sh æ‰‹åŠ¨è·å– token', 'color: #64748b; font-size: 11px;');
                sessionStorage.setItem('jupyter_token_prompt_shown', 'true');
              }
            }
          }
        }, 1000);
      });
      
      // ç›‘å¬æ‰€æœ‰ notebook é“¾æ¥çš„ç‚¹å‡»äº‹ä»¶ï¼ŒåŠ¨æ€æ·»åŠ  token
      document.addEventListener('click', async function(e) {
        const link = e.target.closest('a.notebook-link');
        if (!link) return;
        
        const notebookPath = link.getAttribute('data-notebook-path');
        if (!notebookPath) return;
        
        // æ£€æŸ¥ URL ä¸­æ˜¯å¦å·²æœ‰ token
        const currentUrl = link.getAttribute('href') || link.href;
        if (currentUrl.includes('token=')) {
          return; // å·²æœ‰ tokenï¼Œä¸éœ€è¦å¤„ç†ï¼Œè®©æµè§ˆå™¨æ­£å¸¸è·³è½¬
        }
        
        // é˜»æ­¢é»˜è®¤è¡Œä¸º
        e.preventDefault();
        
        // è·å– tokenï¼ˆä¼˜å…ˆä» localStorageï¼Œå¦‚æœæ²¡æœ‰åˆ™ä»æœåŠ¡è·å–ï¼‰
        let token = localStorage.getItem('jupyter_token') || window.$docsify?.jupyterToken;
        
        if (!token) {
          // å°è¯•ä»æœåŠ¡è·å–
          token = await fetchTokenNow();
        }
        
        // æ„å»ºæ–°çš„ URL
        const config = window.$docsify || {};
        const baseUrl = config.jupyterUrl || 'http://localhost:8888';
        const mode = config.jupyterMode || 'lab';
        
        // ç¡®ä¿è·¯å¾„æ˜¯æ­£ç¡®çš„æ ¼å¼ï¼ˆç§»é™¤å‰å¯¼æ–œæ ï¼Œå¦‚æœæœ‰çš„è¯ï¼‰
        let cleanPath = notebookPath;
        if (cleanPath.startsWith('/')) {
          cleanPath = cleanPath.substring(1);
        }
        
        let newUrl;
        if (mode === 'lab') {
          // Jupyter Lab ç›´æ¥æ‰“å¼€æ–‡ä»¶
          newUrl = `${baseUrl}/lab/tree/${cleanPath}`;
        } else {
          // Jupyter Notebook ç»å…¸ç•Œé¢
          newUrl = `${baseUrl}/notebooks/${cleanPath}`;
        }
        
        if (token) {
          newUrl += `?token=${token}`;
        }
        
        // æ‰“å¼€æ–°çª—å£
        window.open(newUrl, '_blank');
      }, true); // ä½¿ç”¨æ•è·é˜¶æ®µï¼Œç¡®ä¿å…ˆæ‰§è¡Œ
    })();
  </script>
</body>

</html>
